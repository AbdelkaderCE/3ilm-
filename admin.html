<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>3ilm+ | ููุญุฉ ุงูุฅุฏุงุฑุฉ</title>
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@300;400;500;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="css/base.css">
    <link rel="stylesheet" href="css/layout.css">
    <link rel="stylesheet" href="css/style.css">
    <link rel="stylesheet" href="css/components.css">
    <link rel="icon" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text y='.9em' font-size='90'>๐</text></svg>">
</head>
<body>
    <header class="main-header logged-in">
        <div class="container">
            <div class="logo">
                <a href="home.html">
                    <svg width="40" height="40" viewBox="0 0 40 40" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <rect width="40" height="40" rx="8" fill="#007BFF"/>
                        <path d="M10 12h20v2H10v-2zm0 4h20v2H10v-2zm0 4h20v2H10v-2zm0 4h12v2H10v-2z" fill="white"/>
                        <circle cx="30" cy="26" r="6" fill="#00A3FF"/>
                        <path d="M27 24l6 2-6 2v-4z" fill="white"/>
                    </svg>
                    <h1>3ilm+</h1>
                </a>
            </div>
            <nav class="main-nav">
                <ul>
                    <li><a href="home.html">ุงูุฑุฆูุณูุฉ</a></li>
                    <li><a href="profile.html">ุงูููู ุงูุดุฎุตู</a></li>
                    <li><a href="admin.html">ุงูุฅุฏุงุฑุฉ</a></li>
                    <li><button id="logout-btn" class="btn btn-secondary">ุชุณุฌูู ุงูุฎุฑูุฌ</button></li>
                    <li class="user-avatar">
                        <img id="user-avatar-img" src="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text y='.9em' font-size='90'>๐ค</text></svg>" alt="ุตูุฑุฉ ุงููุฏูุฑ">
                    </li>
                </ul>
            </nav>
        </div>
    </header>

    <main class="admin-page">
        <div class="container">
            <h2>ููุญุฉ ุงูุฅุฏุงุฑุฉ</h2>
            <div id="admin-message" class="info-message" style="display: none;"></div>
            <div id="admin-error" class="error-message" style="display: none;"></div>

            <div class="admin-sections-grid">
                <div class="admin-sidebar">
                    <ul>
                        <li><a href="#users" class="active" data-section="users">ุฅุฏุงุฑุฉ ุงููุณุชุฎุฏููู</a></li>
                        <li><a href="#content" data-section="content">ุฅุฏุงุฑุฉ ุงููุญุชูู</a></li>
                        <li><a href="#analytics" data-section="analytics">ุงูุชุญูููุงุช ูุงูุชูุงุฑูุฑ</a></li>
                        <li><a href="#settings" data-section="settings">ุฅุนุฏุงุฏุงุช ุงููููุน</a></li>
                    </ul>
                </div>
                <div class="admin-content-area">
                    <section id="users-section" class="admin-section active">
                        <h3>ุฅุฏุงุฑุฉ ุงููุณุชุฎุฏููู</h3>
                        <div id="users-loading" class="loading-spinner" style="display: none;">
                            <div class="spinner"></div>
                        </div>
                        <div class="admin-stats">
                            <div class="stat-card">
                                <h4>ุฅุฌูุงูู ุงููุณุชุฎุฏููู</h4>
                                <p id="total-users">0</p>
                            </div>
                            <div class="stat-card">
                                <h4>ูุณุชุฎุฏููู ุฌุฏุฏ ูุฐุง ุงูุดูุฑ</h4>
                                <p id="new-users">0</p>
                            </div>
                            <div class="stat-card">
                                <h4>ูุณุชุฎุฏููู ูุดุทูู</h4>
                                <p id="active-users">0</p>
                            </div>
                        </div>
                        <table class="admin-table" id="users-table">
                            <thead>
                                <tr>
                                    <th>ุงูุงุณู</th>
                                    <th>ุงูุจุฑูุฏ ุงูุฅููุชุฑููู</th>
                                    <th>ุงูุฏูุฑ</th>
                                    <th>ุชุงุฑูุฎ ุงูุชุณุฌูู</th>
                                    <th>ุงูุฅุฌุฑุงุกุงุช</th>
                                </tr>
                            </thead>
                            <tbody id="users-table-body">
                                <!-- Users will be dynamically loaded -->
                            </tbody>
                        </table>
                    </section>

                    <section id="content-section" class="admin-section" style="display: none;">
                        <h3>ุฅุฏุงุฑุฉ ุงููุญุชูู</h3>
                        <div class="admin-stats">
                            <div class="stat-card">
                                <h4>ุฅุฌูุงูู ุงูููุฏูููุงุช</h4>
                                <p id="total-videos">0</p>
                            </div>
                            <div class="stat-card">
                                <h4>ููุฏูููุงุช ุฌุฏูุฏุฉ ูุฐุง ุงูุดูุฑ</h4>
                                <p id="new-videos">0</p>
                            </div>
                            <div class="stat-card">
                                <h4>ุฅุฌูุงูู ุงููุดุงูุฏุงุช</h4>
                                <p id="total-views">0</p>
                            </div>
                        </div>
                        
                        <div class="admin-tabs">
                            <button class="admin-tab-btn active" data-tab="upload">ุฑูุน ููุฏูู ุฌุฏูุฏ</button>
                            <button class="admin-tab-btn" data-tab="manage">ุฅุฏุงุฑุฉ ุงูููุฏูููุงุช</button>
                        </div>

                        <div id="upload-tab" class="admin-tab-content active">
                            <h4>ุฑูุน ููุฏูู ุฌุฏูุฏ</h4>
                            <form id="add-video-form">
                                <div class="form-group">
                                    <label for="video-title">ุนููุงู ุงูููุฏูู</label>
                                    <input type="text" id="video-title" required placeholder="ุฃุฏุฎู ุนููุงู ุงูููุฏูู">
                                </div>
                                <div class="form-group">
                                    <label for="video-description">ุงููุตู</label>
                                    <textarea id="video-description" rows="4" placeholder="ุฃุฏุฎู ูุตู ุงูููุฏูู"></textarea>
                                </div>
                                <div class="form-group">
                                    <label for="video-instructor">ุงููุฏุฑุณ</label>
                                    <input type="text" id="video-instructor" placeholder="ุงุณู ุงููุฏุฑุณ">
                                </div>
                                <div class="form-group">
                                    <label for="video-subject">ุงููุงุฏุฉ</label>
                                    <select id="video-subject" required>
                                        <option value="">ุงุฎุชุฑ ุงููุงุฏุฉ</option>
                                        <option value="math">ุงูุฑูุงุถูุงุช</option>
                                        <option value="science">ุงูุนููู</option>
                                        <option value="physics">ุงูููุฒูุงุก</option>
                                        <option value="chemistry">ุงูููููุงุก</option>
                                        <option value="biology">ุงูุฃุญูุงุก</option>
                                        <option value="arabic">ุงููุบุฉ ุงูุนุฑุจูุฉ</option>
                                        <option value="english">ุงููุบุฉ ุงูุฅูุฌููุฒูุฉ</option>
                                        <option value="french">ุงููุบุฉ ุงููุฑูุณูุฉ</option>
                                        <option value="history">ุงูุชุงุฑูุฎ</option>
                                        <option value="geography">ุงูุฌุบุฑุงููุง</option>
                                    </select>
                                </div>
                                <div class="form-group">
                                    <label for="video-level">ุงููุณุชูู</label>
                                    <select id="video-level" required>
                                        <option value="">ุงุฎุชุฑ ุงููุณุชูู</option>
                                        <option value="middle">ูุชูุณุท</option>
                                        <option value="high">ุซุงููู</option>
                                        <option value="university">ุฌุงูุนู</option>
                                    </select>
                                </div>
                                <div class="form-group">
                                    <label for="video-file">ููู ุงูููุฏูู (MP4)</label>
                                    <input type="file" id="video-file" accept="video/mp4" required>
                                    <div id="upload-progress" class="upload-progress" style="display: none;">
                                        <div class="progress-bar">
                                            <div class="progress-fill" id="upload-progress-fill"></div>
                                        </div>
                                        <span id="upload-progress-text">0%</span>
                                    </div>
                                </div>
                                <div class="form-group">
                                    <label for="video-thumbnail">ุงูุตูุฑุฉ ุงููุตุบุฑุฉ</label>
                                    <input type="file" id="video-thumbnail" accept="image/*">
                                </div>
                                <button type="submit" class="btn btn-primary" id="upload-video-btn">ุฑูุน ุงูููุฏูู</button>
                            </form>
                        </div>

                        <div id="manage-tab" class="admin-tab-content" style="display: none;">
                            <h4>ุฅุฏุงุฑุฉ ุงูููุฏูููุงุช</h4>
                            <div id="videos-loading" class="loading-spinner" style="display: none;">
                                <div class="spinner"></div>
                            </div>
                            <table class="admin-table" id="videos-table">
                                <thead>
                                    <tr>
                                        <th>ุงูุนููุงู</th>
                                        <th>ุงููุฏุฑุณ</th>
                                        <th>ุงููุงุฏุฉ</th>
                                        <th>ุงููุณุชูู</th>
                                        <th>ุงููุดุงูุฏุงุช</th>
                                        <th>ุชุงุฑูุฎ ุงูุฑูุน</th>
                                        <th>ุงูุฅุฌุฑุงุกุงุช</th>
                                    </tr>
                                </thead>
                                <tbody id="videos-table-body">
                                    <!-- Videos will be dynamically loaded -->
                                </tbody>
                            </table>
                        </div>
                    </section>

                    <section id="analytics-section" class="admin-section" style="display: none;">
                        <h3>ุงูุชุญูููุงุช ูุงูุชูุงุฑูุฑ</h3>
                        <div class="admin-stats">
                            <div class="stat-card">
                                <h4>ุฅุฌูุงูู ุงููุดุงูุฏุงุช</h4>
                                <p id="analytics-total-views">0</p>
                            </div>
                            <div class="stat-card">
                                <h4>ูุชูุณุท ููุช ุงููุดุงูุฏุฉ</h4>
                                <p id="avg-watch-time">0 ุฏูููุฉ</p>
                            </div>
                            <div class="stat-card">
                                <h4>ุงูููุฏูููุงุช ุงูุฃูุซุฑ ูุดุงูุฏุฉ</h4>
                                <p id="most-watched">-</p>
                            </div>
                        </div>
                        <div id="analytics-charts">
                            <canvas id="viewsChart" width="400" height="200"></canvas>
                        </div>
                    </section>

                    <section id="settings-section" class="admin-section" style="display: none;">
                        <h3>ุฅุนุฏุงุฏุงุช ุงููููุน</h3>
                        <form id="site-settings-form">
                            <div class="form-group">
                                <label for="site-name">ุงุณู ุงููููุน</label>
                                <input type="text" id="site-name" value="3ilm+">
                            </div>
                            <div class="form-group">
                                <label for="site-description">ูุตู ุงููููุน</label>
                                <textarea id="site-description" rows="3">ููุตุฉ ุงูุจุซ ุงูุชุนูููู ุงููุฎุตุตุฉ ูุทูุงุจ ุงูุฌุฒุงุฆุฑ</textarea>
                            </div>
                            <div class="form-group">
                                <label for="maintenance-mode">ูุถุน ุงูุตูุงูุฉ</label>
                                <input type="checkbox" id="maintenance-mode">
                            </div>
                            <button type="submit" class="btn btn-primary">ุญูุธ ุงูุฅุนุฏุงุฏุงุช</button>
                        </form>
                    </section>
                </div>
            </div>
        </div>
    </main>

    <footer class="main-footer">
        <div class="container">
            <p>&copy; 2025 3ilm+. ุฌููุน ุงูุญููู ูุญููุธุฉ.</p>
            <nav class="footer-nav">
                <ul>
                    <li><a href="#">ุณูุงุณุฉ ุงูุฎุตูุตูุฉ</a></li>
                    <li><a href="#">ุดุฑูุท ุงูุฎุฏูุฉ</a></li>
                    <li><a href="#">ุงุชุตู ุจูุง</a></li>
                </ul>
            </nav>
        </div>
    </footer>

    <!-- Environment Configuration -->
    <script src="js/env.js"></script>
    
    <!-- Main Scripts -->
    <script type="module" src="js/main.js"></script>
    <script type="module" src="js/adminDashboard.js"></script>
</body>
</html>
